<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>忘れないように</title>
  </head>

  <body>
    <h1>MacOS上でのOpenTTDコンパイル</h1>
    <p class="renew">2021/06/27</p>
    
    <p>
      MacOS上でOpenTTDをコンパイルする方法について説明する<br>
      基本的には<a href="https://github.com/OpenTTD/OpenTTD/blob/master/COMPILING.md">公式ドキュメント</a>に沿った内容となっている<br>
      またこの記事ではリリースビルドを紹介する<br>
    </p>

    <p>
      コンパイルに必要なライブラリを予めインストールしておく<br>
      現在のOpenTTDをコンパイルするのに必要なライブラリは以下の通り
      <pre class="prettyprint"><code>
$ brew install zlib
$ brew install xz
$ brew install libpng
      </code></pre>
    </p>

    <p>
      Githubから最新のソースコードをcloneする
      <pre class="prettyprint"><code>
$ git clone https://github.com/OpenTTD/OpenTTD 
      </code></pre>

      <a href="https://github.com/OpenTTD/OpenTTD/blob/master/COMPILING.md">COMPILING.md</a>の通りにアプリケーションをビルドする
      <pre class="prettyprint"><code>
$ mkdir build
$ cd build
$ cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo
$ make -j5
      </code></pre>
    </p>

    <p>
      <code>build</code>ディレクトリに<code>openttd</code>が作成されるので
      <pre class="prettyprint"><code>
$ ./openttd
      </code></pre>
      でゲームを起動できる。
    </p>

    <br>
    <div style="text-align: center;height: 35px;">
      <a href="/"><img src="/assets/top.png" alt="TOP" style="height: 100%;"></a> 
    </div>
    <hr size=1 color="black"></hr>
    <address>
      Copyright (c) 2021 <a href="https://github.com/kato-k">Kota Kato</a>
    </address>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  </body>

  <style>
    body {
      background: url(/assets/background.png);
      background-size: 60px;
      overflow-wrap : break-word;
    }
    a {
      word-break: break-all
    }
    h1 {
      outline: double #000000;
      text-align: center;
      color: blue;
      font-size: 35px;
    } 
    .renew {
      text-align: right;
      font-size: 15px;
    }
    address {
      font-size: 15px;
      text-align: center;
    }
    code {
      padding: 4px;
      word-break : break-all;
      font-size: 3px;
      font-family: Consolas, Menlo, 'Liberation Mono', Courier, monospace;
    }
    pre.prettyprint {
      line-height: 100%;
      overflow-y: hidden;
      overflow-x: scroll;
    }
  </style>
</html>
